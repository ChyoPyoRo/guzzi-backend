CREATE TABLE USERS_1 (
 USERID        INT NOT NULL PRIMARY KEY,
 ID            VARCHAR(20) NOT NULL,
 PASSWORD      VARCHAR(200) NOT NULL,
 CREATE_AT     DATE NOT NULL
)


INSERT INTO USERS_1 (id, password, createat, userid) VALUES ('HJN4030','1111',CURRENT_TIMESTAMP, user_seq.NEXTVAL);


 #  UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP

CREATE TABLE TOKEN_1 (
 USERID              INT NOT NULL ,
 TOKENID             INT NOT NULL PRIMARY KEY,
 REFRESHTOKEN        VARCHAR(500) NOT NULL,
 CREATEDAT          DATE NOT NULL
);



---

CREATE TABLE VOTE_1 (
 USERID          INT NOT NULL ,
 VOTEID          INT NOT NULL PRIMARY KEY,
 CONTENT         VARCHAR(600) NOT NULL,
 FIRSTANSWER     VARCHAR(100) NOT NULL,
 SECONDANSWER    VARCHAR(100) NOT NULL,
 CREATEAT DATE  NOT NULL,
 UPDATEAT DATE
)



CREATE TABLE VOTEANSWER_1 (
 VOTEID         INT NOT NULL,
 VOTEANSWERID        INT NOT NULL PRIMARY KEY,
 FIRSTANSWERCOUNT     INT DEFAULT 0 NOT NULL ,
 SECONDANSWERCOUNT    INT DEFAULT 0 NOT NULL
 )

CREATE TABLE MYVOTEANSWER_1 (
MYVOTEID INT NOT NULL PRIMARY KEY,
VOTEID INT NOT NULL,
USERID INT NOT NULL,
CHK VARCHAR(20) NOT NULL
)


DELETE FROM VOTE;
INSERT INTO VOTE VALUES ('1','1','컨텐츠','1번대답','2번대답',CURRENT_TIMESTAMP,'');

-- NLS 설정 확인 명령어 (NLS_SESSION_PARAMETERS 뷰에서 확인)
SELECT * FROM NLS_SESSION_PARAMETERS;

-- 명령어로 변경하기(SESSION 설정 변경)
-- 'NLS_DATE_FORMAT =' 다음에 원하는 DATE_FORMAT을 넣어주면 됩니다.
ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD HH24:MI:SS';






CREATE TABLE SUPPLIER
(
  SUPPLIER_ID NUMERIC(10) NOT NULL,
  SUPPLIER_NAME VARCHAR2(50) NOT NULL,
  CONTACT_NAME VARCHAR2(50),
  CONSTRAINT SUPPLIER_PK PRIMARY KEY (SUPPLIER_ID)
);

-- SEQUENCE 생성
CREATE SEQUENCE USER_SEQ
  INCREMENT BY 1
  START WITH 0
  MAXVALUE 999999
  MINVALUE 0
  NOCYCLE
  CACHE 20;

CREATE SEQUENCE VOTE_SEQ
  INCREMENT BY 1
  START WITH 0
  MAXVALUE 999999
  MINVALUE 0
  NOCYCLE
  CACHE 20;

CREATE SEQUENCE MY_VOTE_ANSWER_SEQ
  INCREMENT BY 1
  START WITH 0
  MAXVALUE 999999
  MINVALUE 0
  NOCYCLE
  CACHE 20;

CREATE SEQUENCE VOTE_ANSWER_SEQ
  INCREMENT BY 1
  START WITH 0
  MAXVALUE 999999
  MINVALUE 0
  NOCYCLE
  CACHE 20;



















  ----
          INSERT INTO vote_1
          ( USERID, VOTEID, CONTENT, FIRSTANSWER, SECONDANSWER, CREATEAT, UPDATEAT )
          VALUES
          (  '21', vote_Seq.NEXTVAL ,'컨탠츠','컨1','컨2', sysdate, '')
---

 INSERT INTO vote ( USERID, VOTEID, CONTENT, FIRSTANSWER, SECONDANSWER, CREATE_AT, UPDATE_AT ) VALUES (  '1', voteSeq.NEXTVAL ,'컨탠츠','컨1','컨2', sysdate, '')
  ---
          INSERT INTO voteanswer_1 (  VOTEID, VOTEANSWERID, FIRSTANSWERCOUNT, SECONDANSWERCOUNT )
          VALUES ( 8, VOTE_ANSWER_SEQ.NEXTVAL , 0, 0);
  ---
          insert into myvoteanswer_1 (MYVOTEID, VOTEID, USERID, CHK)
          values (MY_VOTE_ANSWER_SEQ.NEXTVAL, 8, 21, 'first');


          ----

SELECT A.vote_id, B.FIRST_ANSWER_COUNT FROM VOTE A LEFT JOIN VOTE_ANSWER B ON A.VOTE_ID = B.VOTE_ID WHERE A.VOTE_ID = 0;

--> oracle 에서 실행이 되는데 mybatis에서 실행ㅇ하면 조인이 진행되지 않는다.












ALTER TABLE users RENAME COLUMN createat TO create_at
ALTER TABLE users_1 RENAME COLUMN create_at TO createat -- 컬럼명 변경
ALTER TABLE USERS DROP COLUMN USERID;
ALTER TABLE USERS ADD USERID LONG NOT NULL; -- PRIMARY KEY 는  LONG TYPE 을 사용하지 못한다.
ALTER TABLE USERS MODIFY USERID INT; --TYPE 변경
ALTER TABLE USERS MODIFY (PASSWORD NOT NULL) -- 포맷 변경
ALTER TABLE USERS ADD CONSTRAINT USER_PK PRIMARY KEY (USERID);--(기존컬럼,추가컬럼)
DESC USERS; -- 테이블 구조 확인 명령어

--ALTER TABLE VOTE ADD UPDATE_AT TIMESTAMP;
ALTER TABLE VOTE MODIFY CREATE_AT DATE; --TYPE 변경
ALTER TABLE VOTE MODIFY UPDATE_AT DATE; --TYPE 변경